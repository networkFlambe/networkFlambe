<div class="container-fluid">
  <!-- header -->
  <div app-header></div>

  <!-- main content -->
  <div class="container-fluid">

    <div class="row welcomebox">
      <h2 class="text-center">
          Welcome<span>, {{accordionCtrl.currentUser.displayName}}</span>
      </h2>
      <div class="col-md-2 col-sm-1 col-xs-1">
      </div>
      <div class="col-md-8 col-sm-10 col-xs-10">
        <div class="row" ng-show="accordionCtrl.currentUser.maxLesson">
          <div class="col-md-3 col-sm-2 col-xs-1"></div>
          <div class="col-md-6 col-sm-8 col-xs-10">
            <p class="text-center">Your progress</p>
            <uib-progressbar ng-show="accordionCtrl.currentUser.currentLesson" class="progress" value="accordionCtrl.currentUser.progress" type="success">{{accordionCtrl.currentUser.progress}}%</uib-progressbar>
          </div>
          <div class="col-md-3 col-sm-2 col-xs-1"></div>
        </div>
        <div class="row" ng-show="accordionCtrl.currentUser.maxLesson">
          <div class="col-md-5 lastLessonBox lessonBox">
            <h4 class="text-center">
              Last Lesson Visited:
            </h4>
            <h3 class="text-center" ng-show="accordionCtrl.currentUser.currentLesson">{{accordionCtrl.currentUser.currentLesson}}</h3>
            <br/>
            <button ui-sref="mission({ courseName: accordionCtrl.currentUser.currentShuffle })" type="button" class="btn btn-primary center-block">
              Continue
            </button>
          </div>
          <div class="col-md-5 col-md-offset-2 currentLessonBox lessonBox">
            <h4 class="text-center" ng-show="accordionCtrl.currentUser.currentLesson">
              Current Lesson:
            </h4>
            <h3 class="text-center" ng-show="accordionCtrl.currentUser.currentLesson">{{accordionCtrl.currentUser.maxLesson}}</h3>
            <br/>
            <button ui-sref="mission({ courseName: accordionCtrl.currentUser.maxShuffle })" type="button" class="btn btn-primary center-block">
              Continue
            </button>
          </div>
          <br/>
          <p class="text-center" ng-show="accordionCtrl.currentUser.currentLesson">or choose a specific lesson from below.</p>
        </div>
        <div ng-hide="accordionCtrl.currentUser.maxLesson">
          <h3 class="text-center" >
            Start learning neural network lesson.
          </h3>
          <br />
          <button ui-sref="mission({ courseName: accordionCtrl.currentUser.currentShuffle })" type="button" class="btn btn-primary center-block">
              Start
          </button>
          <br />
        </div>
        </div>
        
      </div>
      <div class="col-md-8 col-sm-1 col-xs-1">
      </div>
    </div>

    <div class="row">
      <!-- <h2 class="text-center">Lesson</h2> -->
      <!-- <h3 class="text-center">Neural Network</h3> -->
      <br/>
    </div>
    <div class="col-md-1 col-sm-1"></div>
    <div class="col-md-10 col-sm-10">


    <div class="accordionContainer" ng-repeat="(step, courses) in accordionCtrl.track">
      <div class="accordionStepBox">
        <h4 class="accordionStepTitle">Step {{$index+1}}: {{step}}</h4>
        <!-- <span>Summary: {{step.summary}}</span> -->
      </div>
      <div class="accordionCoursesBox">
        <div class="accordionCoursesText">Available Courses</div>

        <uib-accordion close-others="false">
            
          <div class="accordion" ng-repeat="(course, shuffles) in courses">
            <uib-accordion-group heading="{{course}}" is-open="true">
              <div ng-repeat="(shuffle, ele) in shuffles">
                <div ng-click="accordionCtrl.updateUserPosition(shuffle)" ui-sref="mission({ courseName: shuffle })" class="accordionShuffleBox">
                  {{$index+1}}. <a>{{shuffle}}</a>
                </div>
              </div>
              <br/>
            </uib-accordion-group>
          </div>

        </uib-accordion>

      </div>
    </div>

    <div class="col-md-1 col-sm-1"></div>
  </div>
</div>

